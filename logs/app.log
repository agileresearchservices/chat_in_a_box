2025-03-11 13:28:54,899 - DEBUG - Price match found: ('500',)
2025-03-11 13:28:54,899 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:28:54,899 - DEBUG - Search params after price extraction: {'query': '', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:28:54,899 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:28:54,902 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:28:54,902 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:28:54,908 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:28:54,909 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107a52490>
2025-03-11 13:28:54,909 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:28:54,909 - DEBUG - send_request_headers.complete
2025-03-11 13:28:54,909 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:28:54,909 - DEBUG - send_request_body.complete
2025-03-11 13:28:54,909 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:28:54,994 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:28:54 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:28:54,994 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:28:54,994 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:28:54,994 - DEBUG - receive_response_body.complete
2025-03-11 13:28:54,994 - DEBUG - response_closed.started
2025-03-11 13:28:54,994 - DEBUG - response_closed.complete
2025-03-11 13:28:54,994 - DEBUG - Products found: []
2025-03-11 13:28:54,994 - DEBUG - close.started
2025-03-11 13:28:54,995 - DEBUG - close.complete
2025-03-11 13:30:49,103 - DEBUG - Price match found: ('500',)
2025-03-11 13:30:49,103 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:30:49,103 - DEBUG - Search params after price extraction: {'query': '', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:30:49,103 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:30:49,106 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:30:49,106 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:30:49,111 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:30:49,112 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10ab52750>
2025-03-11 13:30:49,113 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:30:49,113 - DEBUG - send_request_headers.complete
2025-03-11 13:30:49,113 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:30:49,113 - DEBUG - send_request_body.complete
2025-03-11 13:30:49,113 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:30:49,198 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:30:49 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:30:49,198 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:30:49,198 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:30:49,198 - DEBUG - receive_response_body.complete
2025-03-11 13:30:49,198 - DEBUG - response_closed.started
2025-03-11 13:30:49,198 - DEBUG - response_closed.complete
2025-03-11 13:30:49,198 - DEBUG - API response: {'data': {'products': [], 'total': 0}, 'success': True}
2025-03-11 13:30:49,198 - DEBUG - Products found: []
2025-03-11 13:30:49,198 - DEBUG - close.started
2025-03-11 13:30:49,198 - DEBUG - close.complete
2025-03-11 13:32:17,265 - DEBUG - Price match found: ('500',)
2025-03-11 13:32:17,265 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:32:17,265 - DEBUG - Search params after price extraction: {'query': '', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:32:17,266 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:32:17,268 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:32:17,269 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:32:17,274 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:32:17,275 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113d52a90>
2025-03-11 13:32:17,275 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:32:17,275 - DEBUG - send_request_headers.complete
2025-03-11 13:32:17,275 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:32:17,275 - DEBUG - send_request_body.complete
2025-03-11 13:32:17,275 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:32:17,374 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:32:17 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:32:17,374 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:32:17,374 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:32:17,374 - DEBUG - receive_response_body.complete
2025-03-11 13:32:17,374 - DEBUG - response_closed.started
2025-03-11 13:32:17,374 - DEBUG - response_closed.complete
2025-03-11 13:32:17,374 - DEBUG - API response: {'data': {'products': [], 'total': 0}, 'success': True}
2025-03-11 13:32:17,374 - DEBUG - Products found: []
2025-03-11 13:32:17,375 - DEBUG - close.started
2025-03-11 13:32:17,375 - DEBUG - close.complete
2025-03-11 13:35:03,479 - DEBUG - Price match found: ('500',)
2025-03-11 13:35:03,479 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:35:03,479 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:35:03,480 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}}
2025-03-11 13:35:03,483 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:35:03,483 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:35:03,488 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:35:03,489 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x109658bd0>
2025-03-11 13:35:03,489 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:35:03,489 - DEBUG - send_request_headers.complete
2025-03-11 13:35:03,489 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:35:03,490 - DEBUG - send_request_body.complete
2025-03-11 13:35:03,490 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:35:03,575 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:35:03 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:35:03,576 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:35:03,576 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:35:03,576 - DEBUG - receive_response_body.complete
2025-03-11 13:35:03,576 - DEBUG - response_closed.started
2025-03-11 13:35:03,576 - DEBUG - response_closed.complete
2025-03-11 13:35:03,576 - DEBUG - API response: {'data': {'products': [], 'total': 0}, 'success': True}
2025-03-11 13:35:03,576 - DEBUG - Products found: []
2025-03-11 13:35:03,576 - DEBUG - close.started
2025-03-11 13:35:03,576 - DEBUG - close.complete
2025-03-11 13:39:47,966 - DEBUG - Extracted product type: 'phones' from 'phones under $500'
2025-03-11 13:39:47,966 - DEBUG - Price match found: ('500',)
2025-03-11 13:39:47,966 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:39:47,966 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:39:47,967 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:39:47,969 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:39:47,969 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:39:47,974 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:39:47,975 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108458890>
2025-03-11 13:39:47,976 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:39:47,976 - DEBUG - send_request_headers.complete
2025-03-11 13:39:47,976 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:39:47,976 - DEBUG - send_request_body.complete
2025-03-11 13:39:47,976 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:39:48,078 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:39:48 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:39:48,078 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:39:48,078 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:39:48,078 - DEBUG - receive_response_body.complete
2025-03-11 13:39:48,078 - DEBUG - response_closed.started
2025-03-11 13:39:48,078 - DEBUG - response_closed.complete
2025-03-11 13:39:48,079 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 1976}, 'success': True}
2025-03-11 13:39:48,079 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:39:48,079 - DEBUG - close.started
2025-03-11 13:39:48,079 - DEBUG - close.complete
2025-03-11 13:40:37,497 - DEBUG - Extracted product type: 'phones' from 'phones under $500'
2025-03-11 13:40:37,497 - DEBUG - Price match found: ('500',)
2025-03-11 13:40:37,497 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:40:37,497 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:40:37,497 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:40:37,500 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:37,500 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:37,505 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:37,506 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10c1527d0>
2025-03-11 13:40:37,506 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:37,506 - DEBUG - send_request_headers.complete
2025-03-11 13:40:37,506 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:37,506 - DEBUG - send_request_body.complete
2025-03-11 13:40:37,506 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:37,525 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:37 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:37,525 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:37,526 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:37,526 - DEBUG - receive_response_body.complete
2025-03-11 13:40:37,526 - DEBUG - response_closed.started
2025-03-11 13:40:37,526 - DEBUG - response_closed.complete
2025-03-11 13:40:37,526 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 1976}, 'success': True}
2025-03-11 13:40:37,526 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:37,526 - DEBUG - close.started
2025-03-11 13:40:37,526 - DEBUG - close.complete
2025-03-11 13:40:45,433 - DEBUG - Using entire cleaned query: 'me phones with 128gb storage'
2025-03-11 13:40:45,434 - DEBUG - Extracted search parameters: {'query': 'show me  with  storage', 'size': 5, 'page': 1, 'filters': {'storage': '128GB'}, 'fallbackStrategy': True}
2025-03-11 13:40:45,436 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:45,437 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:45,442 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:45,443 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11219ddd0>
2025-03-11 13:40:45,443 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:45,443 - DEBUG - send_request_headers.complete
2025-03-11 13:40:45,443 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:45,443 - DEBUG - send_request_body.complete
2025-03-11 13:40:45,443 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:45,454 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:45 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:45,455 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:45,455 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:45,455 - DEBUG - receive_response_body.complete
2025-03-11 13:40:45,455 - DEBUG - response_closed.started
2025-03-11 13:40:45,455 - DEBUG - response_closed.complete
2025-03-11 13:40:45,455 - DEBUG - API response: {'data': {'products': [{'id': '17441', 'skuId': '17441', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Black', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17442', 'skuId': '17442', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", White', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'White'}, {'id': '17443', 'skuId': '17443', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Blue', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17444', 'skuId': '17444', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Red', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17445', 'skuId': '17445', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Green', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Green'}], 'total': 3080}, 'success': True}
2025-03-11 13:40:45,455 - DEBUG - Products found: [{'id': '17441', 'skuId': '17441', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Black', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17442', 'skuId': '17442', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", White', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'White'}, {'id': '17443', 'skuId': '17443', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Blue', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17444', 'skuId': '17444', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Red', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17445', 'skuId': '17445', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Green', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:45,455 - DEBUG - close.started
2025-03-11 13:40:45,455 - DEBUG - close.complete
2025-03-11 13:40:45,749 - DEBUG - Using entire cleaned query: 'phones with large screens'
2025-03-11 13:40:45,750 - DEBUG - Extracted search parameters: {'query': 'find  with s', 'size': 5, 'page': 1, 'filters': {'minScreenSize': 6.0}, 'fallbackStrategy': True, 'sort': [{'Screen_Size': 'desc'}]}
2025-03-11 13:40:45,753 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:45,753 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:45,758 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:45,759 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10c752a10>
2025-03-11 13:40:45,759 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:45,759 - DEBUG - send_request_headers.complete
2025-03-11 13:40:45,759 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:45,759 - DEBUG - send_request_body.complete
2025-03-11 13:40:45,759 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:45,771 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:45 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:45,771 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:45,771 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:45,771 - DEBUG - receive_response_body.complete
2025-03-11 13:40:45,771 - DEBUG - response_closed.started
2025-03-11 13:40:45,771 - DEBUG - response_closed.complete
2025-03-11 13:40:45,771 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:40:45,772 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:45,772 - DEBUG - close.started
2025-03-11 13:40:45,772 - DEBUG - close.complete
2025-03-11 13:40:46,043 - DEBUG - Using entire cleaned query: 'me the latest phones'
2025-03-11 13:40:46,044 - DEBUG - Extracted search parameters: {'query': 'show me the', 'size': 5, 'page': 1, 'filters': {}, 'fallbackStrategy': True, 'sort': [{'Release_Year': 'desc'}]}
2025-03-11 13:40:46,046 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:46,046 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:46,051 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:46,052 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x106b52750>
2025-03-11 13:40:46,052 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,052 - DEBUG - send_request_headers.complete
2025-03-11 13:40:46,052 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,053 - DEBUG - send_request_body.complete
2025-03-11 13:40:46,053 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,063 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:46 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:46,063 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:46,063 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,064 - DEBUG - receive_response_body.complete
2025-03-11 13:40:46,064 - DEBUG - response_closed.started
2025-03-11 13:40:46,064 - DEBUG - response_closed.complete
2025-03-11 13:40:46,064 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 4800}, 'success': True}
2025-03-11 13:40:46,064 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:46,064 - DEBUG - close.started
2025-03-11 13:40:46,064 - DEBUG - close.complete
2025-03-11 13:40:46,344 - DEBUG - Extracted product type: 'phones' from 'phones under $500'
2025-03-11 13:40:46,344 - DEBUG - Price match found: ('500',)
2025-03-11 13:40:46,344 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:40:46,344 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:40:46,345 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:40:46,348 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:46,348 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:46,353 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:46,354 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1147529d0>
2025-03-11 13:40:46,354 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,354 - DEBUG - send_request_headers.complete
2025-03-11 13:40:46,354 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,354 - DEBUG - send_request_body.complete
2025-03-11 13:40:46,354 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,363 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:46 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:46,363 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:46,364 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,364 - DEBUG - receive_response_body.complete
2025-03-11 13:40:46,364 - DEBUG - response_closed.started
2025-03-11 13:40:46,364 - DEBUG - response_closed.complete
2025-03-11 13:40:46,364 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 1976}, 'success': True}
2025-03-11 13:40:46,364 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:46,364 - DEBUG - close.started
2025-03-11 13:40:46,364 - DEBUG - close.complete
2025-03-11 13:40:46,646 - DEBUG - Extracted product type: 'me phones' from 'me phones between $800 and $1200'
2025-03-11 13:40:46,647 - DEBUG - Price match found: ('800', '1200')
2025-03-11 13:40:46,647 - DEBUG - Set minPrice to 800.0 and maxPrice to 1200.0
2025-03-11 13:40:46,647 - DEBUG - Search params after price extraction: {'query': 'me phones', 'size': 5, 'page': 1, 'filters': {'minPrice': 800.0, 'maxPrice': 1200.0}, 'fallbackStrategy': True}
2025-03-11 13:40:46,647 - DEBUG - Extracted search parameters: {'query': 'show me', 'size': 5, 'page': 1, 'filters': {'minPrice': 800.0, 'maxPrice': 1200.0}, 'fallbackStrategy': True}
2025-03-11 13:40:46,651 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:46,651 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:46,656 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:46,657 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108252810>
2025-03-11 13:40:46,657 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,658 - DEBUG - send_request_headers.complete
2025-03-11 13:40:46,658 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,658 - DEBUG - send_request_body.complete
2025-03-11 13:40:46,658 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,671 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:46 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:46,671 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:46,671 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,672 - DEBUG - receive_response_body.complete
2025-03-11 13:40:46,672 - DEBUG - response_closed.started
2025-03-11 13:40:46,672 - DEBUG - response_closed.complete
2025-03-11 13:40:46,672 - DEBUG - API response: {'data': {'products': [{'id': '2585', 'skuId': '2585', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Black', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '2586', 'skuId': '2586', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", White', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '2587', 'skuId': '2587', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Blue', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2588', 'skuId': '2588', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Red', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '2589', 'skuId': '2589', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Green', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}], 'total': 5512}, 'success': True}
2025-03-11 13:40:46,672 - DEBUG - Products found: [{'id': '2585', 'skuId': '2585', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Black', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '2586', 'skuId': '2586', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", White', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '2587', 'skuId': '2587', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Blue', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2588', 'skuId': '2588', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Red', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '2589', 'skuId': '2589', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Green', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:46,672 - DEBUG - close.started
2025-03-11 13:40:46,672 - DEBUG - close.complete
2025-03-11 13:40:46,951 - DEBUG - Extracted product type: 'phones' from 'phones over $1000'
2025-03-11 13:40:46,951 - DEBUG - Price match found: ('1000',)
2025-03-11 13:40:46,951 - DEBUG - Set minPrice to 1000.0
2025-03-11 13:40:46,951 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'minPrice': 1000.0}, 'fallbackStrategy': True}
2025-03-11 13:40:46,952 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'minPrice': 1000.0}, 'fallbackStrategy': True}
2025-03-11 13:40:46,954 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:46,954 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:46,959 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:46,961 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x110752550>
2025-03-11 13:40:46,961 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,961 - DEBUG - send_request_headers.complete
2025-03-11 13:40:46,961 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,961 - DEBUG - send_request_body.complete
2025-03-11 13:40:46,961 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:46,974 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:46 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:46,974 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:46,974 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:46,974 - DEBUG - receive_response_body.complete
2025-03-11 13:40:46,974 - DEBUG - response_closed.started
2025-03-11 13:40:46,975 - DEBUG - response_closed.complete
2025-03-11 13:40:46,975 - DEBUG - API response: {'data': {'products': [{'id': '4393', 'skuId': '4393', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Black', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '4394', 'skuId': '4394', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", White', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '4395', 'skuId': '4395', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Blue', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '4396', 'skuId': '4396', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Red', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '4397', 'skuId': '4397', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Green', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}], 'total': 9688}, 'success': True}
2025-03-11 13:40:46,975 - DEBUG - Products found: [{'id': '4393', 'skuId': '4393', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Black', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '4394', 'skuId': '4394', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", White', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '4395', 'skuId': '4395', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Blue', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '4396', 'skuId': '4396', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Red', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '4397', 'skuId': '4397', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Green', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:46,975 - DEBUG - close.started
2025-03-11 13:40:46,975 - DEBUG - close.complete
2025-03-11 13:40:47,240 - DEBUG - Extracted product type: 'me phones' from 'me phones around $750'
2025-03-11 13:40:47,241 - DEBUG - Price match found: ('750',)
2025-03-11 13:40:47,241 - DEBUG - Set minPrice to 600.0 and maxPrice to 900.0 for around price
2025-03-11 13:40:47,241 - DEBUG - Search params after price extraction: {'query': 'me phones', 'size': 5, 'page': 1, 'filters': {'minPrice': 600.0, 'maxPrice': 900.0}, 'fallbackStrategy': True}
2025-03-11 13:40:47,241 - DEBUG - Extracted search parameters: {'query': 'show me', 'size': 5, 'page': 1, 'filters': {'minPrice': 600.0, 'maxPrice': 900.0}, 'fallbackStrategy': True}
2025-03-11 13:40:47,244 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:47,244 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:47,249 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:47,250 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107bd2a10>
2025-03-11 13:40:47,250 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:47,250 - DEBUG - send_request_headers.complete
2025-03-11 13:40:47,250 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:47,250 - DEBUG - send_request_body.complete
2025-03-11 13:40:47,250 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:47,265 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:47 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:47,265 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:47,265 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:47,265 - DEBUG - receive_response_body.complete
2025-03-11 13:40:47,265 - DEBUG - response_closed.started
2025-03-11 13:40:47,265 - DEBUG - response_closed.complete
2025-03-11 13:40:47,265 - DEBUG - API response: {'data': {'products': [{'id': '2425', 'skuId': '2425', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Black', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '2426', 'skuId': '2426', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", White', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '2427', 'skuId': '2427', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Blue', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2428', 'skuId': '2428', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Red', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '2429', 'skuId': '2429', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Green', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 5056}, 'success': True}
2025-03-11 13:40:47,265 - DEBUG - Products found: [{'id': '2425', 'skuId': '2425', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Black', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '2426', 'skuId': '2426', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", White', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '2427', 'skuId': '2427', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Blue', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2428', 'skuId': '2428', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Red', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '2429', 'skuId': '2429', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Green', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:47,265 - DEBUG - close.started
2025-03-11 13:40:47,265 - DEBUG - close.complete
2025-03-11 13:40:47,545 - DEBUG - Using entire cleaned query: 'black phones'
2025-03-11 13:40:47,546 - DEBUG - Extracted search parameters: {'query': 'find s', 'size': 5, 'page': 1, 'filters': {'color': 'Black'}, 'fallbackStrategy': True}
2025-03-11 13:40:47,548 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:47,549 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:47,553 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:47,554 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1049526d0>
2025-03-11 13:40:47,554 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:47,555 - DEBUG - send_request_headers.complete
2025-03-11 13:40:47,555 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:47,555 - DEBUG - send_request_body.complete
2025-03-11 13:40:47,555 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:47,570 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:47 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:47,571 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:47,571 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:47,571 - DEBUG - receive_response_body.complete
2025-03-11 13:40:47,571 - DEBUG - response_closed.started
2025-03-11 13:40:47,571 - DEBUG - response_closed.complete
2025-03-11 13:40:47,571 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:40:47,571 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:47,571 - DEBUG - close.started
2025-03-11 13:40:47,571 - DEBUG - close.complete
2025-03-11 13:40:47,840 - DEBUG - Using entire cleaned query: 'me phones in gold color'
2025-03-11 13:40:47,841 - DEBUG - Extracted search parameters: {'query': 'show me   color', 'size': 5, 'page': 1, 'filters': {'color': 'Gold'}, 'fallbackStrategy': True}
2025-03-11 13:40:47,844 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:47,844 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:47,849 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:47,850 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x105c9e810>
2025-03-11 13:40:47,850 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:47,850 - DEBUG - send_request_headers.complete
2025-03-11 13:40:47,850 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:47,851 - DEBUG - send_request_body.complete
2025-03-11 13:40:47,851 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:47,863 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:47 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:47,864 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:47,864 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:47,864 - DEBUG - receive_response_body.complete
2025-03-11 13:40:47,864 - DEBUG - response_closed.started
2025-03-11 13:40:47,864 - DEBUG - response_closed.complete
2025-03-11 13:40:47,864 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:40:47,864 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:47,864 - DEBUG - close.started
2025-03-11 13:40:47,864 - DEBUG - close.complete
2025-03-11 13:40:48,146 - DEBUG - Extracted product type: 'silver phones' from 'silver phones under $600'
2025-03-11 13:40:48,146 - DEBUG - Price match found: ('600',)
2025-03-11 13:40:48,146 - DEBUG - Set maxPrice to 600.0
2025-03-11 13:40:48,146 - DEBUG - Search params after price extraction: {'query': 'silver phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 600.0}, 'fallbackStrategy': True}
2025-03-11 13:40:48,146 - DEBUG - Extracted search parameters: {'query': 'find s', 'size': 5, 'page': 1, 'filters': {'maxPrice': 600.0, 'color': 'Silver'}, 'fallbackStrategy': True}
2025-03-11 13:40:48,149 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:48,150 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:48,154 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:48,155 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x105252d90>
2025-03-11 13:40:48,155 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:48,156 - DEBUG - send_request_headers.complete
2025-03-11 13:40:48,156 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:48,156 - DEBUG - send_request_body.complete
2025-03-11 13:40:48,156 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:48,168 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:48 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:48,168 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:48,168 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:48,168 - DEBUG - receive_response_body.complete
2025-03-11 13:40:48,168 - DEBUG - response_closed.started
2025-03-11 13:40:48,168 - DEBUG - response_closed.complete
2025-03-11 13:40:48,168 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 3784}, 'success': True}
2025-03-11 13:40:48,168 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:48,168 - DEBUG - close.started
2025-03-11 13:40:48,168 - DEBUG - close.complete
2025-03-11 13:40:48,454 - DEBUG - Using entire cleaned query: '256gb phones'
2025-03-11 13:40:48,455 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'storage': '256GB'}, 'fallbackStrategy': True}
2025-03-11 13:40:48,458 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:48,458 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:48,463 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:48,464 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x111d52990>
2025-03-11 13:40:48,464 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:48,464 - DEBUG - send_request_headers.complete
2025-03-11 13:40:48,464 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:48,465 - DEBUG - send_request_body.complete
2025-03-11 13:40:48,465 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:48,478 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:48 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:48,478 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:48,478 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:48,478 - DEBUG - receive_response_body.complete
2025-03-11 13:40:48,478 - DEBUG - response_closed.started
2025-03-11 13:40:48,478 - DEBUG - response_closed.complete
2025-03-11 13:40:48,478 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:40:48,478 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:48,478 - DEBUG - close.started
2025-03-11 13:40:48,479 - DEBUG - close.complete
2025-03-11 13:40:48,760 - DEBUG - Using entire cleaned query: 'me phones with 512gb storage'
2025-03-11 13:40:48,761 - DEBUG - Extracted search parameters: {'query': 'show me  with  storage', 'size': 5, 'page': 1, 'filters': {'storage': '512GB'}, 'fallbackStrategy': True}
2025-03-11 13:40:48,764 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:48,764 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:48,769 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:48,770 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b352ad0>
2025-03-11 13:40:48,770 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:48,770 - DEBUG - send_request_headers.complete
2025-03-11 13:40:48,770 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:48,770 - DEBUG - send_request_body.complete
2025-03-11 13:40:48,770 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:48,780 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:48 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:48,780 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:48,780 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:48,780 - DEBUG - receive_response_body.complete
2025-03-11 13:40:48,781 - DEBUG - response_closed.started
2025-03-11 13:40:48,781 - DEBUG - response_closed.complete
2025-03-11 13:40:48,781 - DEBUG - API response: {'data': {'products': [{'id': '17521', 'skuId': '17521', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Black', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17522', 'skuId': '17522', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", White', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '17523', 'skuId': '17523', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Blue', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17524', 'skuId': '17524', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Red', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17525', 'skuId': '17525', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Green', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}], 'total': 3080}, 'success': True}
2025-03-11 13:40:48,781 - DEBUG - Products found: [{'id': '17521', 'skuId': '17521', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Black', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17522', 'skuId': '17522', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", White', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '17523', 'skuId': '17523', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Blue', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17524', 'skuId': '17524', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Red', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17525', 'skuId': '17525', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Green', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:48,781 - DEBUG - close.started
2025-03-11 13:40:48,781 - DEBUG - close.complete
2025-03-11 13:40:49,047 - DEBUG - Extracted product type: '128gb phones' from '128gb phones under $700'
2025-03-11 13:40:49,048 - DEBUG - Price match found: ('700',)
2025-03-11 13:40:49,048 - DEBUG - Set maxPrice to 700.0
2025-03-11 13:40:49,048 - DEBUG - Search params after price extraction: {'query': '128gb phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 700.0}, 'fallbackStrategy': True}
2025-03-11 13:40:49,048 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 700.0, 'storage': '128GB'}, 'fallbackStrategy': True}
2025-03-11 13:40:49,051 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:49,051 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:49,056 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:49,057 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107253850>
2025-03-11 13:40:49,057 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,057 - DEBUG - send_request_headers.complete
2025-03-11 13:40:49,057 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,057 - DEBUG - send_request_body.complete
2025-03-11 13:40:49,057 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,071 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:49 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:49,071 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:49,071 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,071 - DEBUG - receive_response_body.complete
2025-03-11 13:40:49,071 - DEBUG - response_closed.started
2025-03-11 13:40:49,072 - DEBUG - response_closed.complete
2025-03-11 13:40:49,072 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 5528}, 'success': True}
2025-03-11 13:40:49,072 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:49,072 - DEBUG - close.started
2025-03-11 13:40:49,072 - DEBUG - close.complete
2025-03-11 13:40:49,348 - DEBUG - Using entire cleaned query: 'black phones with 256gb storage'
2025-03-11 13:40:49,349 - DEBUG - Extracted search parameters: {'query': 'find s with  storage', 'size': 5, 'page': 1, 'filters': {'color': 'Black', 'storage': '256GB'}, 'fallbackStrategy': True}
2025-03-11 13:40:49,351 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:49,352 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:49,356 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:49,357 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x105e52850>
2025-03-11 13:40:49,357 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,358 - DEBUG - send_request_headers.complete
2025-03-11 13:40:49,358 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,358 - DEBUG - send_request_body.complete
2025-03-11 13:40:49,358 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,367 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:49 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:49,367 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:49,367 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,367 - DEBUG - receive_response_body.complete
2025-03-11 13:40:49,367 - DEBUG - response_closed.started
2025-03-11 13:40:49,367 - DEBUG - response_closed.complete
2025-03-11 13:40:49,367 - DEBUG - API response: {'data': {'products': [{'id': '17481', 'skuId': '17481', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 5.8", Black', 'price': 359.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17489', 'skuId': '17489', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.1", Black', 'price': 389.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17497', 'skuId': '17497', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.5", Black', 'price': 419.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19281', 'skuId': '19281', 'baseId': '97', 'title': 'OmegaCell ProMax - 256GB, 5.8", Black', 'price': 446.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17505', 'skuId': '17505', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.7", Black', 'price': 449.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}], 'total': 385}, 'success': True}
2025-03-11 13:40:49,367 - DEBUG - Products found: [{'id': '17481', 'skuId': '17481', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 5.8", Black', 'price': 359.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17489', 'skuId': '17489', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.1", Black', 'price': 389.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17497', 'skuId': '17497', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.5", Black', 'price': 419.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19281', 'skuId': '19281', 'baseId': '97', 'title': 'OmegaCell ProMax - 256GB, 5.8", Black', 'price': 446.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17505', 'skuId': '17505', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.7", Black', 'price': 449.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:40:49,367 - DEBUG - close.started
2025-03-11 13:40:49,367 - DEBUG - close.complete
2025-03-11 13:40:49,637 - DEBUG - Extracted product type: 'me gold phones' from 'me gold phones under $1000'
2025-03-11 13:40:49,637 - DEBUG - Price match found: ('1000',)
2025-03-11 13:40:49,637 - DEBUG - Set maxPrice to 1000.0
2025-03-11 13:40:49,637 - DEBUG - Search params after price extraction: {'query': 'me gold phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 1000.0}, 'fallbackStrategy': True}
2025-03-11 13:40:49,637 - DEBUG - Extracted search parameters: {'query': 'show me s', 'size': 5, 'page': 1, 'filters': {'maxPrice': 1000.0, 'color': 'Gold'}, 'fallbackStrategy': True}
2025-03-11 13:40:49,640 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:49,640 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:49,645 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:49,646 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x110752d90>
2025-03-11 13:40:49,646 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,647 - DEBUG - send_request_headers.complete
2025-03-11 13:40:49,647 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,647 - DEBUG - send_request_body.complete
2025-03-11 13:40:49,647 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,659 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:49 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:49,660 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:49,660 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,660 - DEBUG - receive_response_body.complete
2025-03-11 13:40:49,660 - DEBUG - response_closed.started
2025-03-11 13:40:49,660 - DEBUG - response_closed.complete
2025-03-11 13:40:49,660 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:40:49,660 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:49,660 - DEBUG - close.started
2025-03-11 13:40:49,660 - DEBUG - close.complete
2025-03-11 13:40:49,943 - DEBUG - Extracted product type: 'phones with 512gb storage' from 'phones with 512gb storage around $1200'
2025-03-11 13:40:49,943 - DEBUG - Price match found: ('1200',)
2025-03-11 13:40:49,943 - DEBUG - Set minPrice to 960.0 and maxPrice to 1440.0 for around price
2025-03-11 13:40:49,943 - DEBUG - Search params after price extraction: {'query': 'phones with 512gb storage', 'size': 5, 'page': 1, 'filters': {'minPrice': 960.0, 'maxPrice': 1440.0}, 'fallbackStrategy': True}
2025-03-11 13:40:49,944 - DEBUG - Extracted search parameters: {'query': 'find  with  storage', 'size': 5, 'page': 1, 'filters': {'minPrice': 960.0, 'maxPrice': 1440.0, 'storage': '512GB'}, 'fallbackStrategy': True}
2025-03-11 13:40:49,946 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:49,947 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:49,951 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:49,952 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10aa52890>
2025-03-11 13:40:49,952 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,952 - DEBUG - send_request_headers.complete
2025-03-11 13:40:49,952 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,953 - DEBUG - send_request_body.complete
2025-03-11 13:40:49,953 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:49,961 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:49 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:49,961 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:49,961 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:49,961 - DEBUG - receive_response_body.complete
2025-03-11 13:40:49,961 - DEBUG - response_closed.started
2025-03-11 13:40:49,961 - DEBUG - response_closed.complete
2025-03-11 13:40:49,961 - DEBUG - API response: {'data': {'products': [{'id': '3953', 'skuId': '3953', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Black', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '3954', 'skuId': '3954', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", White', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '3955', 'skuId': '3955', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Blue', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '3956', 'skuId': '3956', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Red', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '3957', 'skuId': '3957', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Green', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}], 'total': 952}, 'success': True}
2025-03-11 13:40:49,961 - DEBUG - Products found: [{'id': '3953', 'skuId': '3953', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Black', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '3954', 'skuId': '3954', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", White', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '3955', 'skuId': '3955', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Blue', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '3956', 'skuId': '3956', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Red', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '3957', 'skuId': '3957', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Green', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:49,961 - DEBUG - close.started
2025-03-11 13:40:49,962 - DEBUG - close.complete
2025-03-11 13:40:50,232 - DEBUG - Using entire cleaned query: 'phones'
2025-03-11 13:40:50,233 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {}, 'fallbackStrategy': True}
2025-03-11 13:40:50,235 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:50,236 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:50,241 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:50,242 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x103b58650>
2025-03-11 13:40:50,242 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:50,242 - DEBUG - send_request_headers.complete
2025-03-11 13:40:50,242 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:50,242 - DEBUG - send_request_body.complete
2025-03-11 13:40:50,242 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:50,250 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:50 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:50,251 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:50,251 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:50,251 - DEBUG - receive_response_body.complete
2025-03-11 13:40:50,251 - DEBUG - response_closed.started
2025-03-11 13:40:50,251 - DEBUG - response_closed.complete
2025-03-11 13:40:50,251 - DEBUG - API response: {'data': {'products': [], 'total': 0}, 'success': True}
2025-03-11 13:40:50,251 - DEBUG - Products found: []
2025-03-11 13:40:50,251 - DEBUG - close.started
2025-03-11 13:40:50,251 - DEBUG - close.complete
2025-03-11 13:40:50,530 - DEBUG - Using entire cleaned query: 'me phones with 1tb storage'
2025-03-11 13:40:50,531 - DEBUG - Extracted search parameters: {'query': 'show me  with  storage', 'size': 5, 'page': 1, 'filters': {'storage': '1024GB'}, 'fallbackStrategy': True}
2025-03-11 13:40:50,534 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:50,534 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:50,539 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:50,540 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11419d290>
2025-03-11 13:40:50,540 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:50,540 - DEBUG - send_request_headers.complete
2025-03-11 13:40:50,540 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:50,540 - DEBUG - send_request_body.complete
2025-03-11 13:40:50,540 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:50,553 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:50 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:50,553 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:50,553 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:50,553 - DEBUG - receive_response_body.complete
2025-03-11 13:40:50,553 - DEBUG - response_closed.started
2025-03-11 13:40:50,553 - DEBUG - response_closed.complete
2025-03-11 13:40:50,553 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:40:50,553 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:40:50,553 - DEBUG - close.started
2025-03-11 13:40:50,553 - DEBUG - close.complete
2025-03-11 13:40:50,823 - DEBUG - Extracted product type: 'phones' from 'phones under $100'
2025-03-11 13:40:50,823 - DEBUG - Price match found: ('100',)
2025-03-11 13:40:50,823 - DEBUG - Set maxPrice to 100.0
2025-03-11 13:40:50,823 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 100.0}, 'fallbackStrategy': True}
2025-03-11 13:40:50,824 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 100.0}, 'fallbackStrategy': True}
2025-03-11 13:40:50,827 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:50,827 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:50,832 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:50,833 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x110152a10>
2025-03-11 13:40:50,833 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:50,833 - DEBUG - send_request_headers.complete
2025-03-11 13:40:50,833 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:50,833 - DEBUG - send_request_body.complete
2025-03-11 13:40:50,833 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:50,844 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:50 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:50,844 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:50,844 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:50,844 - DEBUG - receive_response_body.complete
2025-03-11 13:40:50,845 - DEBUG - response_closed.started
2025-03-11 13:40:50,845 - DEBUG - response_closed.complete
2025-03-11 13:40:50,845 - DEBUG - API response: {'data': {'products': [], 'total': 0}, 'success': True}
2025-03-11 13:40:50,845 - DEBUG - Products found: []
2025-03-11 13:40:50,845 - DEBUG - close.started
2025-03-11 13:40:50,845 - DEBUG - close.complete
2025-03-11 13:40:51,118 - DEBUG - Using entire cleaned query: 'me phones in rainbow color'
2025-03-11 13:40:51,119 - DEBUG - Extracted search parameters: {'query': 'show me  in rainbow color', 'size': 5, 'page': 1, 'filters': {}, 'fallbackStrategy': True}
2025-03-11 13:40:51,122 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:40:51,122 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:40:51,127 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:40:51,128 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x105858710>
2025-03-11 13:40:51,128 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:40:51,128 - DEBUG - send_request_headers.complete
2025-03-11 13:40:51,128 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:40:51,128 - DEBUG - send_request_body.complete
2025-03-11 13:40:51,128 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:40:51,135 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:40:51 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:40:51,136 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:40:51,136 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:40:51,136 - DEBUG - receive_response_body.complete
2025-03-11 13:40:51,136 - DEBUG - response_closed.started
2025-03-11 13:40:51,136 - DEBUG - response_closed.complete
2025-03-11 13:40:51,136 - DEBUG - API response: {'data': {'products': [], 'total': 0}, 'success': True}
2025-03-11 13:40:51,136 - DEBUG - Products found: []
2025-03-11 13:40:51,136 - DEBUG - close.started
2025-03-11 13:40:51,136 - DEBUG - close.complete
2025-03-11 13:42:54,561 - DEBUG - Using entire cleaned query: 'me phones with 128gb storage'
2025-03-11 13:42:54,561 - DEBUG - Set storage filter to 128GB
2025-03-11 13:42:54,561 - DEBUG - Extracted search parameters: {'query': 'show me  with  storage', 'size': 5, 'page': 1, 'filters': {'storage': '128GB'}, 'fallbackStrategy': True}
2025-03-11 13:42:54,564 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:54,564 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:54,569 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:54,570 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1144c6590>
2025-03-11 13:42:54,571 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:54,571 - DEBUG - send_request_headers.complete
2025-03-11 13:42:54,571 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:54,571 - DEBUG - send_request_body.complete
2025-03-11 13:42:54,571 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:54,588 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:54 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:54,588 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:54,588 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:54,588 - DEBUG - receive_response_body.complete
2025-03-11 13:42:54,588 - DEBUG - response_closed.started
2025-03-11 13:42:54,588 - DEBUG - response_closed.complete
2025-03-11 13:42:54,588 - DEBUG - API response: {'data': {'products': [{'id': '17441', 'skuId': '17441', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Black', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17442', 'skuId': '17442', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", White', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'White'}, {'id': '17443', 'skuId': '17443', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Blue', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17444', 'skuId': '17444', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Red', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17445', 'skuId': '17445', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Green', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Green'}], 'total': 3080}, 'success': True}
2025-03-11 13:42:54,588 - DEBUG - Products found: [{'id': '17441', 'skuId': '17441', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Black', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17442', 'skuId': '17442', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", White', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'White'}, {'id': '17443', 'skuId': '17443', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Blue', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17444', 'skuId': '17444', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Red', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17445', 'skuId': '17445', 'baseId': '88', 'title': 'UltraMobile Edge - 128GB, 5.8", Green', 'price': 309.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '128GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:54,588 - DEBUG - close.started
2025-03-11 13:42:54,588 - DEBUG - close.complete
2025-03-11 13:42:54,890 - DEBUG - Using entire cleaned query: 'phones with large screens'
2025-03-11 13:42:54,891 - DEBUG - Extracted search parameters: {'query': 'find  with s', 'size': 5, 'page': 1, 'filters': {'minScreenSize': 6.0}, 'fallbackStrategy': True, 'sort': [{'Screen_Size': 'desc'}]}
2025-03-11 13:42:54,894 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:54,894 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:54,899 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:54,900 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1155587d0>
2025-03-11 13:42:54,900 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:54,900 - DEBUG - send_request_headers.complete
2025-03-11 13:42:54,900 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:54,900 - DEBUG - send_request_body.complete
2025-03-11 13:42:54,900 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:54,910 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:54 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:54,911 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:54,911 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:54,911 - DEBUG - receive_response_body.complete
2025-03-11 13:42:54,911 - DEBUG - response_closed.started
2025-03-11 13:42:54,911 - DEBUG - response_closed.complete
2025-03-11 13:42:54,911 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:42:54,911 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:54,911 - DEBUG - close.started
2025-03-11 13:42:54,911 - DEBUG - close.complete
2025-03-11 13:42:55,196 - DEBUG - Using entire cleaned query: 'me the latest phones'
2025-03-11 13:42:55,197 - DEBUG - Extracted search parameters: {'query': 'show me the', 'size': 5, 'page': 1, 'filters': {}, 'fallbackStrategy': True, 'sort': [{'Release_Year': 'desc'}]}
2025-03-11 13:42:55,200 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:55,200 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:55,205 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:55,206 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10b39fa90>
2025-03-11 13:42:55,206 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:55,207 - DEBUG - send_request_headers.complete
2025-03-11 13:42:55,207 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:55,207 - DEBUG - send_request_body.complete
2025-03-11 13:42:55,207 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:55,218 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:55 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:55,218 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:55,218 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:55,218 - DEBUG - receive_response_body.complete
2025-03-11 13:42:55,218 - DEBUG - response_closed.started
2025-03-11 13:42:55,218 - DEBUG - response_closed.complete
2025-03-11 13:42:55,218 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 4800}, 'success': True}
2025-03-11 13:42:55,218 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17402', 'skuId': '17402', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", White', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '17403', 'skuId': '17403', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Blue', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17404', 'skuId': '17404', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Red', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17405', 'skuId': '17405', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Green', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:55,218 - DEBUG - close.started
2025-03-11 13:42:55,218 - DEBUG - close.complete
2025-03-11 13:42:55,505 - DEBUG - Extracted product type: 'phones' from 'phones under $500'
2025-03-11 13:42:55,505 - DEBUG - Price match found: ('500',)
2025-03-11 13:42:55,505 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:42:55,505 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:42:55,506 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:42:55,509 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:55,509 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:55,514 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:55,515 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11097ea90>
2025-03-11 13:42:55,515 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:55,515 - DEBUG - send_request_headers.complete
2025-03-11 13:42:55,515 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:55,515 - DEBUG - send_request_body.complete
2025-03-11 13:42:55,515 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:55,531 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:55 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:55,531 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:55,531 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:55,531 - DEBUG - receive_response_body.complete
2025-03-11 13:42:55,531 - DEBUG - response_closed.started
2025-03-11 13:42:55,531 - DEBUG - response_closed.complete
2025-03-11 13:42:55,531 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 1976}, 'success': True}
2025-03-11 13:42:55,531 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:55,531 - DEBUG - close.started
2025-03-11 13:42:55,531 - DEBUG - close.complete
2025-03-11 13:42:55,818 - DEBUG - Extracted product type: 'me phones' from 'me phones between $800 and $1200'
2025-03-11 13:42:55,818 - DEBUG - Price match found: ('800', '1200')
2025-03-11 13:42:55,818 - DEBUG - Set minPrice to 800.0 and maxPrice to 1200.0
2025-03-11 13:42:55,818 - DEBUG - Search params after price extraction: {'query': 'me phones', 'size': 5, 'page': 1, 'filters': {'minPrice': 800.0, 'maxPrice': 1200.0}, 'fallbackStrategy': True}
2025-03-11 13:42:55,819 - DEBUG - Extracted search parameters: {'query': 'show me', 'size': 5, 'page': 1, 'filters': {'minPrice': 800.0, 'maxPrice': 1200.0}, 'fallbackStrategy': True}
2025-03-11 13:42:55,822 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:55,822 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:55,827 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:55,828 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x115952cd0>
2025-03-11 13:42:55,829 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:55,829 - DEBUG - send_request_headers.complete
2025-03-11 13:42:55,829 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:55,829 - DEBUG - send_request_body.complete
2025-03-11 13:42:55,829 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:55,843 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:55 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:55,843 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:55,843 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:55,843 - DEBUG - receive_response_body.complete
2025-03-11 13:42:55,843 - DEBUG - response_closed.started
2025-03-11 13:42:55,843 - DEBUG - response_closed.complete
2025-03-11 13:42:55,843 - DEBUG - API response: {'data': {'products': [{'id': '2585', 'skuId': '2585', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Black', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '2586', 'skuId': '2586', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", White', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '2587', 'skuId': '2587', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Blue', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2588', 'skuId': '2588', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Red', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '2589', 'skuId': '2589', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Green', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}], 'total': 5512}, 'success': True}
2025-03-11 13:42:55,843 - DEBUG - Products found: [{'id': '2585', 'skuId': '2585', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Black', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '2586', 'skuId': '2586', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", White', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '2587', 'skuId': '2587', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Blue', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2588', 'skuId': '2588', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Red', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '2589', 'skuId': '2589', 'baseId': '13', 'title': 'UltraMobile Lite - 1TB, 6.7", Green', 'price': 800.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:55,843 - DEBUG - close.started
2025-03-11 13:42:55,843 - DEBUG - close.complete
2025-03-11 13:42:56,129 - DEBUG - Extracted product type: 'phones' from 'phones over $1000'
2025-03-11 13:42:56,130 - DEBUG - Price match found: ('1000',)
2025-03-11 13:42:56,130 - DEBUG - Set minPrice to 1000.0
2025-03-11 13:42:56,130 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'minPrice': 1000.0}, 'fallbackStrategy': True}
2025-03-11 13:42:56,130 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'minPrice': 1000.0}, 'fallbackStrategy': True}
2025-03-11 13:42:56,133 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:56,134 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:56,138 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:56,139 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1111586d0>
2025-03-11 13:42:56,139 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:56,140 - DEBUG - send_request_headers.complete
2025-03-11 13:42:56,140 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:56,140 - DEBUG - send_request_body.complete
2025-03-11 13:42:56,140 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:56,152 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:56 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:56,152 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:56,152 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:56,152 - DEBUG - receive_response_body.complete
2025-03-11 13:42:56,152 - DEBUG - response_closed.started
2025-03-11 13:42:56,152 - DEBUG - response_closed.complete
2025-03-11 13:42:56,152 - DEBUG - API response: {'data': {'products': [{'id': '4393', 'skuId': '4393', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Black', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '4394', 'skuId': '4394', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", White', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '4395', 'skuId': '4395', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Blue', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '4396', 'skuId': '4396', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Red', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '4397', 'skuId': '4397', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Green', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}], 'total': 9688}, 'success': True}
2025-03-11 13:42:56,152 - DEBUG - Products found: [{'id': '4393', 'skuId': '4393', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Black', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '4394', 'skuId': '4394', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", White', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '4395', 'skuId': '4395', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Blue', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '4396', 'skuId': '4396', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Red', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '4397', 'skuId': '4397', 'baseId': '22', 'title': 'OmegaCell Edge - 1TB, 7.1", Green', 'price': 1000.44, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '188', 'releaseYear': 2020, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:56,152 - DEBUG - close.started
2025-03-11 13:42:56,152 - DEBUG - close.complete
2025-03-11 13:42:56,425 - DEBUG - Extracted product type: 'me phones' from 'me phones around $750'
2025-03-11 13:42:56,425 - DEBUG - Price match found: ('750',)
2025-03-11 13:42:56,425 - DEBUG - Set minPrice to 600.0 and maxPrice to 900.0 for around price
2025-03-11 13:42:56,426 - DEBUG - Search params after price extraction: {'query': 'me phones', 'size': 5, 'page': 1, 'filters': {'minPrice': 600.0, 'maxPrice': 900.0}, 'fallbackStrategy': True}
2025-03-11 13:42:56,426 - DEBUG - Extracted search parameters: {'query': 'show me', 'size': 5, 'page': 1, 'filters': {'minPrice': 600.0, 'maxPrice': 900.0}, 'fallbackStrategy': True}
2025-03-11 13:42:56,429 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:56,429 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:56,434 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:56,435 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10a852d50>
2025-03-11 13:42:56,435 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:56,435 - DEBUG - send_request_headers.complete
2025-03-11 13:42:56,435 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:56,435 - DEBUG - send_request_body.complete
2025-03-11 13:42:56,435 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:56,448 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:56 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:56,449 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:56,449 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:56,449 - DEBUG - receive_response_body.complete
2025-03-11 13:42:56,449 - DEBUG - response_closed.started
2025-03-11 13:42:56,449 - DEBUG - response_closed.complete
2025-03-11 13:42:56,449 - DEBUG - API response: {'data': {'products': [{'id': '2425', 'skuId': '2425', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Black', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '2426', 'skuId': '2426', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", White', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '2427', 'skuId': '2427', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Blue', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2428', 'skuId': '2428', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Red', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '2429', 'skuId': '2429', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Green', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 5056}, 'success': True}
2025-03-11 13:42:56,449 - DEBUG - Products found: [{'id': '2425', 'skuId': '2425', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Black', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '2426', 'skuId': '2426', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", White', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '2427', 'skuId': '2427', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Blue', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '2428', 'skuId': '2428', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Red', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '2429', 'skuId': '2429', 'baseId': '13', 'title': 'UltraMobile Lite - 64GB, 6.7", Green', 'price': 600.38, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '494', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:56,449 - DEBUG - close.started
2025-03-11 13:42:56,449 - DEBUG - close.complete
2025-03-11 13:42:56,727 - DEBUG - Using entire cleaned query: 'black phones'
2025-03-11 13:42:56,728 - DEBUG - Extracted search parameters: {'query': 'find s', 'size': 5, 'page': 1, 'filters': {'color': 'Black'}, 'fallbackStrategy': True}
2025-03-11 13:42:56,730 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:56,731 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:56,735 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:56,736 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x109751a50>
2025-03-11 13:42:56,736 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:56,736 - DEBUG - send_request_headers.complete
2025-03-11 13:42:56,736 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:56,736 - DEBUG - send_request_body.complete
2025-03-11 13:42:56,736 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:56,750 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:56 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:56,750 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:56,750 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:56,750 - DEBUG - receive_response_body.complete
2025-03-11 13:42:56,750 - DEBUG - response_closed.started
2025-03-11 13:42:56,750 - DEBUG - response_closed.complete
2025-03-11 13:42:56,750 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '3401', 'skuId': '3401', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Black', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '18601', 'skuId': '18601', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Black', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}], 'total': 2500}, 'success': True}
2025-03-11 13:42:56,750 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '3401', 'skuId': '3401', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Black', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '18601', 'skuId': '18601', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Black', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:42:56,750 - DEBUG - close.started
2025-03-11 13:42:56,750 - DEBUG - close.complete
2025-03-11 13:42:57,022 - DEBUG - Using entire cleaned query: 'me phones in gold color'
2025-03-11 13:42:57,023 - DEBUG - Extracted search parameters: {'query': 'show me   color', 'size': 5, 'page': 1, 'filters': {'color': 'Gold'}, 'fallbackStrategy': True}
2025-03-11 13:42:57,026 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:57,026 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:57,031 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:57,032 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x100a1cd50>
2025-03-11 13:42:57,032 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,032 - DEBUG - send_request_headers.complete
2025-03-11 13:42:57,032 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,032 - DEBUG - send_request_body.complete
2025-03-11 13:42:57,032 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,039 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:57 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:57,040 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:57,040 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,040 - DEBUG - receive_response_body.complete
2025-03-11 13:42:57,040 - DEBUG - response_closed.started
2025-03-11 13:42:57,040 - DEBUG - response_closed.complete
2025-03-11 13:42:57,040 - DEBUG - API response: {'data': {'products': [{'id': '6007', 'skuId': '6007', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Gold', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17207', 'skuId': '17207', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Gold', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '3407', 'skuId': '3407', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Gold', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17407', 'skuId': '17407', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Gold', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '18607', 'skuId': '18607', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Gold', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}], 'total': 2500}, 'success': True}
2025-03-11 13:42:57,040 - DEBUG - Products found: [{'id': '6007', 'skuId': '6007', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Gold', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17207', 'skuId': '17207', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Gold', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '3407', 'skuId': '3407', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Gold', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17407', 'skuId': '17407', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Gold', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '18607', 'skuId': '18607', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Gold', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}]
2025-03-11 13:42:57,040 - DEBUG - close.started
2025-03-11 13:42:57,040 - DEBUG - close.complete
2025-03-11 13:42:57,326 - DEBUG - Extracted product type: 'silver phones' from 'silver phones under $600'
2025-03-11 13:42:57,326 - DEBUG - Price match found: ('600',)
2025-03-11 13:42:57,326 - DEBUG - Set maxPrice to 600.0
2025-03-11 13:42:57,326 - DEBUG - Search params after price extraction: {'query': 'silver phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 600.0}, 'fallbackStrategy': True}
2025-03-11 13:42:57,327 - DEBUG - Extracted search parameters: {'query': 'find s', 'size': 5, 'page': 1, 'filters': {'maxPrice': 600.0, 'color': 'Silver'}, 'fallbackStrategy': True}
2025-03-11 13:42:57,330 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:57,330 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:57,336 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:57,337 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1085529d0>
2025-03-11 13:42:57,337 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,338 - DEBUG - send_request_headers.complete
2025-03-11 13:42:57,338 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,338 - DEBUG - send_request_body.complete
2025-03-11 13:42:57,338 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,351 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:57 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:57,351 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:57,351 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,351 - DEBUG - receive_response_body.complete
2025-03-11 13:42:57,351 - DEBUG - response_closed.started
2025-03-11 13:42:57,351 - DEBUG - response_closed.complete
2025-03-11 13:42:57,352 - DEBUG - API response: {'data': {'products': [{'id': '6006', 'skuId': '6006', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Silver', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '17206', 'skuId': '17206', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Silver', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '3406', 'skuId': '3406', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Silver', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '17406', 'skuId': '17406', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Silver', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '18606', 'skuId': '18606', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Silver', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}], 'total': 473}, 'success': True}
2025-03-11 13:42:57,352 - DEBUG - Products found: [{'id': '6006', 'skuId': '6006', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Silver', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '17206', 'skuId': '17206', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Silver', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '3406', 'skuId': '3406', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Silver', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '17406', 'skuId': '17406', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Silver', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}, {'id': '18606', 'skuId': '18606', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Silver', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Silver'}]
2025-03-11 13:42:57,352 - DEBUG - close.started
2025-03-11 13:42:57,352 - DEBUG - close.complete
2025-03-11 13:42:57,637 - DEBUG - Using entire cleaned query: '256gb phones'
2025-03-11 13:42:57,638 - DEBUG - Set storage filter to 256GB
2025-03-11 13:42:57,638 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'storage': '256GB'}, 'fallbackStrategy': True}
2025-03-11 13:42:57,641 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:57,642 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:57,646 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:57,648 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10779fc90>
2025-03-11 13:42:57,648 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,648 - DEBUG - send_request_headers.complete
2025-03-11 13:42:57,648 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,648 - DEBUG - send_request_body.complete
2025-03-11 13:42:57,648 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,663 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:57 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:57,663 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:57,663 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,663 - DEBUG - receive_response_body.complete
2025-03-11 13:42:57,663 - DEBUG - response_closed.started
2025-03-11 13:42:57,663 - DEBUG - response_closed.complete
2025-03-11 13:42:57,663 - DEBUG - API response: {'data': {'products': [{'id': '6081', 'skuId': '6081', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Black', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6082', 'skuId': '6082', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", White', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'White'}, {'id': '6083', 'skuId': '6083', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Blue', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6084', 'skuId': '6084', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Red', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6085', 'skuId': '6085', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Green', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Green'}], 'total': 4000}, 'success': True}
2025-03-11 13:42:57,663 - DEBUG - Products found: [{'id': '6081', 'skuId': '6081', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Black', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6082', 'skuId': '6082', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", White', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'White'}, {'id': '6083', 'skuId': '6083', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Blue', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6084', 'skuId': '6084', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Red', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6085', 'skuId': '6085', 'baseId': '31', 'title': 'SmartCom Quantum - 256GB, 5.8", Green', 'price': 345.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '256GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:57,663 - DEBUG - close.started
2025-03-11 13:42:57,663 - DEBUG - close.complete
2025-03-11 13:42:57,951 - DEBUG - Using entire cleaned query: 'me phones with 512gb storage'
2025-03-11 13:42:57,952 - DEBUG - Set storage filter to 512GB
2025-03-11 13:42:57,952 - DEBUG - Extracted search parameters: {'query': 'show me  with  storage', 'size': 5, 'page': 1, 'filters': {'storage': '512GB'}, 'fallbackStrategy': True}
2025-03-11 13:42:57,955 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:57,956 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:57,961 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:57,962 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113952890>
2025-03-11 13:42:57,962 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,962 - DEBUG - send_request_headers.complete
2025-03-11 13:42:57,962 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,962 - DEBUG - send_request_body.complete
2025-03-11 13:42:57,962 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:57,972 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:57 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:57,972 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:57,972 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:57,973 - DEBUG - receive_response_body.complete
2025-03-11 13:42:57,973 - DEBUG - response_closed.started
2025-03-11 13:42:57,973 - DEBUG - response_closed.complete
2025-03-11 13:42:57,973 - DEBUG - API response: {'data': {'products': [{'id': '17521', 'skuId': '17521', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Black', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17522', 'skuId': '17522', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", White', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '17523', 'skuId': '17523', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Blue', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17524', 'skuId': '17524', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Red', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17525', 'skuId': '17525', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Green', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}], 'total': 3080}, 'success': True}
2025-03-11 13:42:57,973 - DEBUG - Products found: [{'id': '17521', 'skuId': '17521', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Black', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17522', 'skuId': '17522', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", White', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '17523', 'skuId': '17523', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Blue', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17524', 'skuId': '17524', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Red', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '17525', 'skuId': '17525', 'baseId': '88', 'title': 'UltraMobile Edge - 512GB, 5.8", Green', 'price': 409.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:57,973 - DEBUG - close.started
2025-03-11 13:42:57,973 - DEBUG - close.complete
2025-03-11 13:42:58,253 - DEBUG - Extracted product type: '128gb phones' from '128gb phones under $700'
2025-03-11 13:42:58,253 - DEBUG - Price match found: ('700',)
2025-03-11 13:42:58,253 - DEBUG - Set maxPrice to 700.0
2025-03-11 13:42:58,253 - DEBUG - Search params after price extraction: {'query': '128gb phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 700.0}, 'fallbackStrategy': True}
2025-03-11 13:42:58,253 - DEBUG - Set storage filter to 128GB
2025-03-11 13:42:58,254 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 700.0, 'storage': '128GB'}, 'fallbackStrategy': True}
2025-03-11 13:42:58,256 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:58,257 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:58,261 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:58,262 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x107b68a50>
2025-03-11 13:42:58,263 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:58,263 - DEBUG - send_request_headers.complete
2025-03-11 13:42:58,263 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:58,263 - DEBUG - send_request_body.complete
2025-03-11 13:42:58,263 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:58,275 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:58 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:58,275 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:58,276 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:58,276 - DEBUG - receive_response_body.complete
2025-03-11 13:42:58,276 - DEBUG - response_closed.started
2025-03-11 13:42:58,276 - DEBUG - response_closed.complete
2025-03-11 13:42:58,276 - DEBUG - API response: {'data': {'products': [{'id': '6041', 'skuId': '6041', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Black', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6042', 'skuId': '6042', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", White', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'White'}, {'id': '6043', 'skuId': '6043', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Blue', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6044', 'skuId': '6044', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Red', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6045', 'skuId': '6045', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Green', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Green'}], 'total': 1240}, 'success': True}
2025-03-11 13:42:58,276 - DEBUG - Products found: [{'id': '6041', 'skuId': '6041', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Black', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6042', 'skuId': '6042', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", White', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'White'}, {'id': '6043', 'skuId': '6043', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Blue', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6044', 'skuId': '6044', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Red', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6045', 'skuId': '6045', 'baseId': '31', 'title': 'SmartCom Quantum - 128GB, 5.8", Green', 'price': 295.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '128GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:58,276 - DEBUG - close.started
2025-03-11 13:42:58,276 - DEBUG - close.complete
2025-03-11 13:42:58,557 - DEBUG - Using entire cleaned query: 'black phones with 256gb storage'
2025-03-11 13:42:58,558 - DEBUG - Set storage filter to 256GB
2025-03-11 13:42:58,558 - DEBUG - Extracted search parameters: {'query': 'find s with  storage', 'size': 5, 'page': 1, 'filters': {'color': 'Black', 'storage': '256GB'}, 'fallbackStrategy': True}
2025-03-11 13:42:58,561 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:58,561 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:58,566 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:58,567 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1093526d0>
2025-03-11 13:42:58,567 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:58,567 - DEBUG - send_request_headers.complete
2025-03-11 13:42:58,567 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:58,567 - DEBUG - send_request_body.complete
2025-03-11 13:42:58,567 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:58,577 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:58 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:58,577 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:58,577 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:58,577 - DEBUG - receive_response_body.complete
2025-03-11 13:42:58,577 - DEBUG - response_closed.started
2025-03-11 13:42:58,577 - DEBUG - response_closed.complete
2025-03-11 13:42:58,577 - DEBUG - API response: {'data': {'products': [{'id': '17481', 'skuId': '17481', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 5.8", Black', 'price': 359.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17489', 'skuId': '17489', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.1", Black', 'price': 389.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17497', 'skuId': '17497', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.5", Black', 'price': 419.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19281', 'skuId': '19281', 'baseId': '97', 'title': 'OmegaCell ProMax - 256GB, 5.8", Black', 'price': 446.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17505', 'skuId': '17505', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.7", Black', 'price': 449.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}], 'total': 385}, 'success': True}
2025-03-11 13:42:58,577 - DEBUG - Products found: [{'id': '17481', 'skuId': '17481', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 5.8", Black', 'price': 359.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17489', 'skuId': '17489', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.1", Black', 'price': 389.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17497', 'skuId': '17497', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.5", Black', 'price': 419.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19281', 'skuId': '19281', 'baseId': '97', 'title': 'OmegaCell ProMax - 256GB, 5.8", Black', 'price': 446.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17505', 'skuId': '17505', 'baseId': '88', 'title': 'UltraMobile Edge - 256GB, 6.7", Black', 'price': 449.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '256GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:42:58,577 - DEBUG - close.started
2025-03-11 13:42:58,577 - DEBUG - close.complete
2025-03-11 13:42:58,852 - DEBUG - Extracted product type: 'me gold phones' from 'me gold phones under $1000'
2025-03-11 13:42:58,852 - DEBUG - Price match found: ('1000',)
2025-03-11 13:42:58,852 - DEBUG - Set maxPrice to 1000.0
2025-03-11 13:42:58,852 - DEBUG - Search params after price extraction: {'query': 'me gold phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 1000.0}, 'fallbackStrategy': True}
2025-03-11 13:42:58,853 - DEBUG - Extracted search parameters: {'query': 'show me s', 'size': 5, 'page': 1, 'filters': {'maxPrice': 1000.0, 'color': 'Gold'}, 'fallbackStrategy': True}
2025-03-11 13:42:58,855 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:58,856 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:58,860 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:58,862 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113552650>
2025-03-11 13:42:58,862 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:58,862 - DEBUG - send_request_headers.complete
2025-03-11 13:42:58,862 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:58,862 - DEBUG - send_request_body.complete
2025-03-11 13:42:58,862 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:58,875 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:58 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:58,875 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:58,875 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:58,875 - DEBUG - receive_response_body.complete
2025-03-11 13:42:58,875 - DEBUG - response_closed.started
2025-03-11 13:42:58,875 - DEBUG - response_closed.complete
2025-03-11 13:42:58,875 - DEBUG - API response: {'data': {'products': [{'id': '6007', 'skuId': '6007', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Gold', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17207', 'skuId': '17207', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Gold', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '3407', 'skuId': '3407', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Gold', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17407', 'skuId': '17407', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Gold', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '18607', 'skuId': '18607', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Gold', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}], 'total': 1289}, 'success': True}
2025-03-11 13:42:58,875 - DEBUG - Products found: [{'id': '6007', 'skuId': '6007', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Gold', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17207', 'skuId': '17207', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Gold', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '3407', 'skuId': '3407', 'baseId': '18', 'title': 'NextGen Edge - 64GB, 5.8", Gold', 'price': 258.03, 'description': 'Perfect for professionals, featuring a stunning display and top-tier security features.', 'stock': '35', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '17407', 'skuId': '17407', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Gold', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}, {'id': '18607', 'skuId': '18607', 'baseId': '94', 'title': 'XenoPhone Lite - 64GB, 5.8", Gold', 'price': 264.76, 'description': 'Lightweight, stylish, and built for efficiency with a high-quality camera.', 'stock': '45', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Gold'}]
2025-03-11 13:42:58,875 - DEBUG - close.started
2025-03-11 13:42:58,875 - DEBUG - close.complete
2025-03-11 13:42:59,158 - DEBUG - Extracted product type: 'phones with 512gb storage' from 'phones with 512gb storage around $1200'
2025-03-11 13:42:59,158 - DEBUG - Price match found: ('1200',)
2025-03-11 13:42:59,158 - DEBUG - Set minPrice to 960.0 and maxPrice to 1440.0 for around price
2025-03-11 13:42:59,158 - DEBUG - Search params after price extraction: {'query': 'phones with 512gb storage', 'size': 5, 'page': 1, 'filters': {'minPrice': 960.0, 'maxPrice': 1440.0}, 'fallbackStrategy': True}
2025-03-11 13:42:59,158 - DEBUG - Set storage filter to 512GB
2025-03-11 13:42:59,159 - DEBUG - Extracted search parameters: {'query': 'find  with  storage', 'size': 5, 'page': 1, 'filters': {'minPrice': 960.0, 'maxPrice': 1440.0, 'storage': '512GB'}, 'fallbackStrategy': True}
2025-03-11 13:42:59,161 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:59,161 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:59,166 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:59,167 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x109d52d10>
2025-03-11 13:42:59,167 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:59,167 - DEBUG - send_request_headers.complete
2025-03-11 13:42:59,167 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:59,168 - DEBUG - send_request_body.complete
2025-03-11 13:42:59,168 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:59,177 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:59 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:59,177 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:59,177 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:59,177 - DEBUG - receive_response_body.complete
2025-03-11 13:42:59,177 - DEBUG - response_closed.started
2025-03-11 13:42:59,177 - DEBUG - response_closed.complete
2025-03-11 13:42:59,177 - DEBUG - API response: {'data': {'products': [{'id': '3953', 'skuId': '3953', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Black', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '3954', 'skuId': '3954', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", White', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '3955', 'skuId': '3955', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Blue', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '3956', 'skuId': '3956', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Red', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '3957', 'skuId': '3957', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Green', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}], 'total': 952}, 'success': True}
2025-03-11 13:42:59,177 - DEBUG - Products found: [{'id': '3953', 'skuId': '3953', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Black', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Black'}, {'id': '3954', 'skuId': '3954', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", White', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'White'}, {'id': '3955', 'skuId': '3955', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Blue', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '3956', 'skuId': '3956', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Red', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Red'}, {'id': '3957', 'skuId': '3957', 'baseId': '20', 'title': 'OmegaCell Quantum - 512GB, 7.1", Green', 'price': 986.13, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '45', 'releaseYear': 2022, 'storage': '512GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:59,177 - DEBUG - close.started
2025-03-11 13:42:59,177 - DEBUG - close.complete
2025-03-11 13:42:59,454 - DEBUG - Using entire cleaned query: 'phones'
2025-03-11 13:42:59,455 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {}, 'fallbackStrategy': True}
2025-03-11 13:42:59,458 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:59,458 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:59,463 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:59,464 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x110251ad0>
2025-03-11 13:42:59,464 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:59,464 - DEBUG - send_request_headers.complete
2025-03-11 13:42:59,464 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:59,464 - DEBUG - send_request_body.complete
2025-03-11 13:42:59,464 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:59,476 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:59 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:59,477 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:59,477 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:59,477 - DEBUG - receive_response_body.complete
2025-03-11 13:42:59,477 - DEBUG - response_closed.started
2025-03-11 13:42:59,477 - DEBUG - response_closed.complete
2025-03-11 13:42:59,477 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:42:59,477 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:59,477 - DEBUG - close.started
2025-03-11 13:42:59,477 - DEBUG - close.complete
2025-03-11 13:42:59,757 - DEBUG - Using entire cleaned query: 'me phones with 1tb storage'
2025-03-11 13:42:59,757 - DEBUG - Set storage filter to 1TB
2025-03-11 13:42:59,758 - DEBUG - Extracted search parameters: {'query': 'show me  with  storage', 'size': 5, 'page': 1, 'filters': {'storage': '1TB'}, 'fallbackStrategy': True}
2025-03-11 13:42:59,760 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:42:59,761 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:42:59,765 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:42:59,766 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10d39e0d0>
2025-03-11 13:42:59,767 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:42:59,767 - DEBUG - send_request_headers.complete
2025-03-11 13:42:59,767 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:42:59,767 - DEBUG - send_request_body.complete
2025-03-11 13:42:59,767 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:42:59,776 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:42:59 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:42:59,776 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:42:59,776 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:42:59,776 - DEBUG - receive_response_body.complete
2025-03-11 13:42:59,776 - DEBUG - response_closed.started
2025-03-11 13:42:59,777 - DEBUG - response_closed.complete
2025-03-11 13:42:59,777 - DEBUG - API response: {'data': {'products': [{'id': '17561', 'skuId': '17561', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Black', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '17562', 'skuId': '17562', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", White', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '17563', 'skuId': '17563', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Blue', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17564', 'skuId': '17564', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Red', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '17565', 'skuId': '17565', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Green', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}], 'total': 3080}, 'success': True}
2025-03-11 13:42:59,777 - DEBUG - Products found: [{'id': '17561', 'skuId': '17561', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Black', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Black'}, {'id': '17562', 'skuId': '17562', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", White', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'White'}, {'id': '17563', 'skuId': '17563', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Blue', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Blue'}, {'id': '17564', 'skuId': '17564', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Red', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Red'}, {'id': '17565', 'skuId': '17565', 'baseId': '88', 'title': 'UltraMobile Edge - 1TB, 5.8", Green', 'price': 459.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '1TB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:42:59,777 - DEBUG - close.started
2025-03-11 13:42:59,777 - DEBUG - close.complete
2025-03-11 13:43:00,051 - DEBUG - Extracted product type: 'phones' from 'phones under $100'
2025-03-11 13:43:00,051 - DEBUG - Price match found: ('100',)
2025-03-11 13:43:00,051 - DEBUG - Set maxPrice to 100.0
2025-03-11 13:43:00,051 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 100.0}, 'fallbackStrategy': True}
2025-03-11 13:43:00,051 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 100.0}, 'fallbackStrategy': True}
2025-03-11 13:43:00,055 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:43:00,055 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:43:00,059 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:43:00,060 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108058b10>
2025-03-11 13:43:00,061 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:43:00,061 - DEBUG - send_request_headers.complete
2025-03-11 13:43:00,061 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:43:00,061 - DEBUG - send_request_body.complete
2025-03-11 13:43:00,061 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:43:00,074 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:43:00 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:43:00,074 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:43:00,074 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:43:00,074 - DEBUG - receive_response_body.complete
2025-03-11 13:43:00,074 - DEBUG - response_closed.started
2025-03-11 13:43:00,074 - DEBUG - response_closed.complete
2025-03-11 13:43:00,074 - DEBUG - API response: {'data': {'products': [], 'total': 0}, 'success': True}
2025-03-11 13:43:00,075 - DEBUG - Products found: []
2025-03-11 13:43:00,075 - DEBUG - close.started
2025-03-11 13:43:00,075 - DEBUG - close.complete
2025-03-11 13:43:00,371 - DEBUG - Using entire cleaned query: 'me phones in rainbow color'
2025-03-11 13:43:00,372 - DEBUG - Extracted search parameters: {'query': 'show me  in rainbow color', 'size': 5, 'page': 1, 'filters': {}, 'fallbackStrategy': True}
2025-03-11 13:43:00,374 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:43:00,375 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:43:00,379 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:43:00,380 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074524d0>
2025-03-11 13:43:00,381 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:43:00,381 - DEBUG - send_request_headers.complete
2025-03-11 13:43:00,381 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:43:00,381 - DEBUG - send_request_body.complete
2025-03-11 13:43:00,381 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:43:00,394 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:43:00 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:43:00,394 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:43:00,394 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:43:00,394 - DEBUG - receive_response_body.complete
2025-03-11 13:43:00,394 - DEBUG - response_closed.started
2025-03-11 13:43:00,394 - DEBUG - response_closed.complete
2025-03-11 13:43:00,394 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 10000}, 'success': True}
2025-03-11 13:43:00,394 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:43:00,394 - DEBUG - close.started
2025-03-11 13:43:00,394 - DEBUG - close.complete
2025-03-11 13:44:59,852 - DEBUG - Extracted product type: 'black phones with 64gb ram' from 'black phones with 64gb ram under $400'
2025-03-11 13:44:59,852 - DEBUG - Price match found: ('400',)
2025-03-11 13:44:59,852 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:44:59,852 - DEBUG - Search params after price extraction: {'query': 'black phones with 64gb ram', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:44:59,852 - DEBUG - Set storage filter to 64GB
2025-03-11 13:44:59,853 - DEBUG - Extracted search parameters: {'query': 'find s with  ram', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black', 'storage': '64GB'}, 'fallbackStrategy': True}
2025-03-11 13:44:59,856 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:44:59,856 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:44:59,861 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:44:59,862 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x106452a10>
2025-03-11 13:44:59,862 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:44:59,862 - DEBUG - send_request_headers.complete
2025-03-11 13:44:59,862 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:44:59,862 - DEBUG - send_request_body.complete
2025-03-11 13:44:59,862 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:44:59,929 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:44:59 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:44:59,930 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:44:59,930 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:44:59,930 - DEBUG - receive_response_body.complete
2025-03-11 13:44:59,930 - DEBUG - response_closed.started
2025-03-11 13:44:59,930 - DEBUG - response_closed.complete
2025-03-11 13:44:59,930 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}], 'total': 35}, 'success': True}
2025-03-11 13:44:59,930 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:44:59,930 - DEBUG - close.started
2025-03-11 13:44:59,930 - DEBUG - close.complete
2025-03-11 13:45:20,599 - DEBUG - Extracted product type: 'phones' from 'phones under $500'
2025-03-11 13:45:20,599 - DEBUG - Price match found: ('500',)
2025-03-11 13:45:20,599 - DEBUG - Set maxPrice to 500.0
2025-03-11 13:45:20,599 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:45:20,600 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 500.0}, 'fallbackStrategy': True}
2025-03-11 13:45:20,603 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:45:20,603 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:45:20,608 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:45:20,609 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x109952a10>
2025-03-11 13:45:20,609 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:45:20,609 - DEBUG - send_request_headers.complete
2025-03-11 13:45:20,609 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:45:20,609 - DEBUG - send_request_body.complete
2025-03-11 13:45:20,609 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:45:20,625 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:45:20 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:45:20,625 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:45:20,625 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:45:20,625 - DEBUG - receive_response_body.complete
2025-03-11 13:45:20,626 - DEBUG - response_closed.started
2025-03-11 13:45:20,626 - DEBUG - response_closed.complete
2025-03-11 13:45:20,626 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 1976}, 'success': True}
2025-03-11 13:45:20,626 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:45:20,626 - DEBUG - close.started
2025-03-11 13:45:20,626 - DEBUG - close.complete
2025-03-11 13:47:09,520 - DEBUG - Extracted product type: 'phones' from 'phones under $400'
2025-03-11 13:47:09,520 - DEBUG - Price match found: ('400',)
2025-03-11 13:47:09,520 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:47:09,520 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:47:09,521 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:47:09,524 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:47:09,524 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:47:09,529 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:47:09,530 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10a3a8310>
2025-03-11 13:47:09,530 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:47:09,530 - DEBUG - send_request_headers.complete
2025-03-11 13:47:09,530 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:47:09,530 - DEBUG - send_request_body.complete
2025-03-11 13:47:09,530 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:47:09,616 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:47:09 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:47:09,616 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:47:09,616 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:47:09,616 - DEBUG - receive_response_body.complete
2025-03-11 13:47:09,616 - DEBUG - response_closed.started
2025-03-11 13:47:09,616 - DEBUG - response_closed.complete
2025-03-11 13:47:09,616 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 656}, 'success': True}
2025-03-11 13:47:09,616 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:47:09,616 - DEBUG - close.started
2025-03-11 13:47:09,616 - DEBUG - close.complete
2025-03-11 13:48:03,816 - DEBUG - Extracted product type: 'black phones with 64gb ram' from 'black phones with 64gb ram under $400'
2025-03-11 13:48:03,817 - DEBUG - Price match found: ('400',)
2025-03-11 13:48:03,817 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:48:03,817 - DEBUG - Search params after price extraction: {'query': 'black phones with 64gb ram', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:48:03,817 - DEBUG - Set storage filter to 64GB
2025-03-11 13:48:03,817 - DEBUG - Extracted search parameters: {'query': 'find s with  ram', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black', 'storage': '64GB'}, 'fallbackStrategy': True}
2025-03-11 13:48:03,820 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:48:03,820 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:48:03,826 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:48:03,827 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112d52690>
2025-03-11 13:48:03,827 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:48:03,827 - DEBUG - send_request_headers.complete
2025-03-11 13:48:03,827 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:48:03,827 - DEBUG - send_request_body.complete
2025-03-11 13:48:03,827 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:48:03,893 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:48:03 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:48:03,893 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:48:03,893 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:48:03,893 - DEBUG - receive_response_body.complete
2025-03-11 13:48:03,893 - DEBUG - response_closed.started
2025-03-11 13:48:03,893 - DEBUG - response_closed.complete
2025-03-11 13:48:03,893 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}], 'total': 35}, 'success': True}
2025-03-11 13:48:03,893 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:48:03,893 - DEBUG - close.started
2025-03-11 13:48:03,893 - DEBUG - close.complete
2025-03-11 13:48:09,427 - DEBUG - Extracted product type: 'phones' from 'phones under $400'
2025-03-11 13:48:09,427 - DEBUG - Price match found: ('400',)
2025-03-11 13:48:09,427 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:48:09,427 - DEBUG - Search params after price extraction: {'query': 'phones', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:48:09,428 - DEBUG - Extracted search parameters: {'query': 'find', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:48:09,430 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:48:09,430 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:48:09,435 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:48:09,436 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1074589d0>
2025-03-11 13:48:09,436 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:48:09,437 - DEBUG - send_request_headers.complete
2025-03-11 13:48:09,437 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:48:09,437 - DEBUG - send_request_body.complete
2025-03-11 13:48:09,437 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:48:09,452 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:48:09 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:48:09,452 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:48:09,452 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:48:09,452 - DEBUG - receive_response_body.complete
2025-03-11 13:48:09,452 - DEBUG - response_closed.started
2025-03-11 13:48:09,452 - DEBUG - response_closed.complete
2025-03-11 13:48:09,452 - DEBUG - API response: {'data': {'products': [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}], 'total': 656}, 'success': True}
2025-03-11 13:48:09,452 - DEBUG - Products found: [{'id': '6001', 'skuId': '6001', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Black', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '6002', 'skuId': '6002', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", White', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'White'}, {'id': '6003', 'skuId': '6003', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Blue', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Blue'}, {'id': '6004', 'skuId': '6004', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Red', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Red'}, {'id': '6005', 'skuId': '6005', 'baseId': '31', 'title': 'SmartCom Quantum - 64GB, 5.8", Green', 'price': 245.55, 'description': 'An ultra-slim smartphone with an impressive camera and long battery life.', 'stock': '91', 'releaseYear': 2020, 'storage': '64GB', 'screenSize': 0, 'color': 'Green'}]
2025-03-11 13:48:09,452 - DEBUG - close.started
2025-03-11 13:48:09,452 - DEBUG - close.complete
2025-03-11 13:49:59,782 - DEBUG - Extracted product type: 'black phones with 64gb storage' from 'black phones with 64gb storage under $400'
2025-03-11 13:49:59,782 - DEBUG - Price match found: ('400',)
2025-03-11 13:49:59,782 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:49:59,782 - DEBUG - Search params after price extraction: {'query': 'black phones with 64gb storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:49:59,782 - DEBUG - Set storage filter to 64GB
2025-03-11 13:49:59,783 - DEBUG - Extracted search parameters: {'query': 'find s with  storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black', 'storage': '64GB'}, 'fallbackStrategy': True}
2025-03-11 13:49:59,787 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:49:59,787 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:49:59,793 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:49:59,794 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108458b50>
2025-03-11 13:49:59,794 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:49:59,794 - DEBUG - send_request_headers.complete
2025-03-11 13:49:59,794 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:49:59,794 - DEBUG - send_request_body.complete
2025-03-11 13:49:59,794 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:49:59,879 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:49:59 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:49:59,879 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:49:59,879 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:49:59,879 - DEBUG - receive_response_body.complete
2025-03-11 13:49:59,879 - DEBUG - response_closed.started
2025-03-11 13:49:59,879 - DEBUG - response_closed.complete
2025-03-11 13:49:59,879 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}], 'total': 35}, 'success': True}
2025-03-11 13:49:59,879 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:49:59,879 - DEBUG - close.started
2025-03-11 13:49:59,879 - DEBUG - close.complete
2025-03-11 13:52:41,008 - DEBUG - Extracted product type: 'a black phone' from 'a black phone under $400'
2025-03-11 13:52:41,008 - DEBUG - Price match found: ('400',)
2025-03-11 13:52:41,008 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:52:41,008 - DEBUG - Search params after price extraction: {'query': 'a black phone', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:52:41,009 - DEBUG - Extracted search parameters: {'query': 'find a', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black'}, 'fallbackStrategy': True}
2025-03-11 13:52:41,011 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:52:41,012 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:52:41,017 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:52:41,018 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122e52550>
2025-03-11 13:52:41,018 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:52:41,018 - DEBUG - send_request_headers.complete
2025-03-11 13:52:41,018 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:52:41,019 - DEBUG - send_request_body.complete
2025-03-11 13:52:41,019 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:52:41,155 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:52:41 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:52:41,155 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:52:41,155 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:52:41,156 - DEBUG - receive_response_body.complete
2025-03-11 13:52:41,156 - DEBUG - response_closed.started
2025-03-11 13:52:41,156 - DEBUG - response_closed.complete
2025-03-11 13:52:41,156 - DEBUG - API response: {'data': {'products': [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}], 'total': 53}, 'success': True}
2025-03-11 13:52:41,156 - DEBUG - Products found: [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:52:41,156 - DEBUG - close.started
2025-03-11 13:52:41,156 - DEBUG - close.complete
2025-03-11 13:52:54,939 - DEBUG - Extracted product type: 'black phones with 64gb storage' from 'black phones with 64gb storage under $400'
2025-03-11 13:52:54,939 - DEBUG - Price match found: ('400',)
2025-03-11 13:52:54,939 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:52:54,939 - DEBUG - Search params after price extraction: {'query': 'black phones with 64gb storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:52:54,940 - DEBUG - Set storage filter to 64GB
2025-03-11 13:52:54,940 - DEBUG - Extracted search parameters: {'query': 'find s with  storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black', 'storage': '64GB'}, 'fallbackStrategy': True}
2025-03-11 13:52:54,943 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:52:54,943 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:52:54,948 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:52:54,949 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x106a52590>
2025-03-11 13:52:54,949 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:52:54,949 - DEBUG - send_request_headers.complete
2025-03-11 13:52:54,949 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:52:54,949 - DEBUG - send_request_body.complete
2025-03-11 13:52:54,949 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:52:54,961 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:52:54 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:52:54,961 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:52:54,962 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:52:54,962 - DEBUG - receive_response_body.complete
2025-03-11 13:52:54,962 - DEBUG - response_closed.started
2025-03-11 13:52:54,962 - DEBUG - response_closed.complete
2025-03-11 13:52:54,962 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}], 'total': 35}, 'success': True}
2025-03-11 13:52:54,962 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:52:54,962 - DEBUG - close.started
2025-03-11 13:52:54,962 - DEBUG - close.complete
2025-03-11 13:54:08,941 - DEBUG - Extracted product type: 'a black phone' from 'a black phone under $400'
2025-03-11 13:54:08,941 - DEBUG - Price match found: ('400',)
2025-03-11 13:54:08,941 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:54:08,941 - DEBUG - Search params after price extraction: {'query': 'a black phone', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:54:08,942 - DEBUG - Extracted search parameters: {'query': 'find a', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black'}, 'fallbackStrategy': True}
2025-03-11 13:54:08,945 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:54:08,945 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:54:08,950 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:54:08,952 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10539e9d0>
2025-03-11 13:54:08,952 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:54:08,952 - DEBUG - send_request_headers.complete
2025-03-11 13:54:08,952 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:54:08,952 - DEBUG - send_request_body.complete
2025-03-11 13:54:08,952 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:54:09,084 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:54:09 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:54:09,084 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:54:09,084 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:54:09,084 - DEBUG - receive_response_body.complete
2025-03-11 13:54:09,084 - DEBUG - response_closed.started
2025-03-11 13:54:09,084 - DEBUG - response_closed.complete
2025-03-11 13:54:09,084 - DEBUG - API response: {'data': {'products': [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}], 'total': 53}, 'success': True}
2025-03-11 13:54:09,084 - DEBUG - Products found: [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:54:09,084 - DEBUG - close.started
2025-03-11 13:54:09,084 - DEBUG - close.complete
2025-03-11 13:54:20,190 - DEBUG - Extracted product type: 'black phones with 64gb storage' from 'black phones with 64gb storage under $400'
2025-03-11 13:54:20,190 - DEBUG - Price match found: ('400',)
2025-03-11 13:54:20,191 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:54:20,191 - DEBUG - Search params after price extraction: {'query': 'black phones with 64gb storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:54:20,191 - DEBUG - Set storage filter to 64GB
2025-03-11 13:54:20,191 - DEBUG - Extracted search parameters: {'query': 'find s with  storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black', 'storage': '64GB'}, 'fallbackStrategy': True}
2025-03-11 13:54:20,194 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:54:20,194 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:54:20,199 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:54:20,200 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10ca9dc90>
2025-03-11 13:54:20,200 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:54:20,200 - DEBUG - send_request_headers.complete
2025-03-11 13:54:20,200 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:54:20,200 - DEBUG - send_request_body.complete
2025-03-11 13:54:20,200 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:54:20,214 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:54:20 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:54:20,215 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:54:20,215 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:54:20,215 - DEBUG - receive_response_body.complete
2025-03-11 13:54:20,215 - DEBUG - response_closed.started
2025-03-11 13:54:20,215 - DEBUG - response_closed.complete
2025-03-11 13:54:20,215 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}], 'total': 35}, 'success': True}
2025-03-11 13:54:20,215 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:54:20,215 - DEBUG - close.started
2025-03-11 13:54:20,215 - DEBUG - close.complete
2025-03-11 13:56:24,879 - DEBUG - Extracted product type: 'a black phone' from 'a black phone under $400'
2025-03-11 13:56:24,880 - DEBUG - Price match found: ('400',)
2025-03-11 13:56:24,880 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:56:24,880 - DEBUG - Search params after price extraction: {'query': 'a black phone', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:56:24,880 - DEBUG - Extracted search parameters: {'query': 'find a', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black'}, 'fallbackStrategy': True}
2025-03-11 13:56:24,883 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:56:24,883 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:56:24,889 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:56:24,890 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10a19e910>
2025-03-11 13:56:24,890 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:56:24,890 - DEBUG - send_request_headers.complete
2025-03-11 13:56:24,890 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:56:24,890 - DEBUG - send_request_body.complete
2025-03-11 13:56:24,890 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:56:24,948 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:56:24 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:56:24,948 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:56:24,948 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:56:24,948 - DEBUG - receive_response_body.complete
2025-03-11 13:56:24,948 - DEBUG - response_closed.started
2025-03-11 13:56:24,948 - DEBUG - response_closed.complete
2025-03-11 13:56:24,948 - DEBUG - API response: {'data': {'products': [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}], 'total': 53}, 'success': True}
2025-03-11 13:56:24,948 - DEBUG - Products found: [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:56:24,948 - DEBUG - close.started
2025-03-11 13:56:24,948 - DEBUG - close.complete
2025-03-11 13:57:04,151 - DEBUG - Extracted product type: 'black phones with 64gb storage' from 'black phones with 64gb storage under $400'
2025-03-11 13:57:04,151 - DEBUG - Price match found: ('400',)
2025-03-11 13:57:04,151 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:57:04,151 - DEBUG - Search params after price extraction: {'query': 'black phones with 64gb storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:57:04,151 - DEBUG - Set storage filter to 64GB
2025-03-11 13:57:04,151 - DEBUG - Extracted search parameters: {'query': 'find s with  storage', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black', 'storage': '64GB'}, 'fallbackStrategy': True}
2025-03-11 13:57:04,157 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:57:04,158 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:57:04,164 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:57:04,165 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x106152a90>
2025-03-11 13:57:04,166 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:57:04,166 - DEBUG - send_request_headers.complete
2025-03-11 13:57:04,166 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:57:04,166 - DEBUG - send_request_body.complete
2025-03-11 13:57:04,166 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:57:04,177 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:57:04 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:57:04,178 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:57:04,178 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:57:04,178 - DEBUG - receive_response_body.complete
2025-03-11 13:57:04,178 - DEBUG - response_closed.started
2025-03-11 13:57:04,178 - DEBUG - response_closed.complete
2025-03-11 13:57:04,178 - DEBUG - API response: {'data': {'products': [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}], 'total': 35}, 'success': True}
2025-03-11 13:57:04,178 - DEBUG - Products found: [{'id': '17401', 'skuId': '17401', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 5.8", Black', 'price': 259.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17409', 'skuId': '17409', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.1", Black', 'price': 289.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17417', 'skuId': '17417', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.5", Black', 'price': 319.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '19201', 'skuId': '19201', 'baseId': '97', 'title': 'OmegaCell ProMax - 64GB, 5.8", Black', 'price': 346.2, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '124', 'releaseYear': 2021, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17425', 'skuId': '17425', 'baseId': '88', 'title': 'UltraMobile Edge - 64GB, 6.7", Black', 'price': 349.82, 'description': 'A budget-friendly smartphone with all the features you need.', 'stock': '400', 'releaseYear': 2023, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:57:04,178 - DEBUG - close.started
2025-03-11 13:57:04,178 - DEBUG - close.complete
2025-03-11 13:57:34,226 - DEBUG - Extracted product type: 'a black phone' from 'a black phone under $400'
2025-03-11 13:57:34,226 - DEBUG - Price match found: ('400',)
2025-03-11 13:57:34,226 - DEBUG - Set maxPrice to 400.0
2025-03-11 13:57:34,226 - DEBUG - Search params after price extraction: {'query': 'a black phone', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0}, 'fallbackStrategy': True}
2025-03-11 13:57:34,227 - DEBUG - Extracted search parameters: {'query': 'find a', 'size': 5, 'page': 1, 'filters': {'maxPrice': 400.0, 'color': 'Black'}, 'fallbackStrategy': True}
2025-03-11 13:57:34,230 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-03-11 13:57:34,230 - DEBUG - load_verify_locations cafile='/Users/kevin/github/chat_in_a_box/.venv/lib/python3.11/site-packages/certifi/cacert.pem'
2025-03-11 13:57:34,235 - DEBUG - connect_tcp.started host='localhost' port=3000 local_address=None timeout=10.0 socket_options=None
2025-03-11 13:57:34,236 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11509eb90>
2025-03-11 13:57:34,236 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-11 13:57:34,236 - DEBUG - send_request_headers.complete
2025-03-11 13:57:34,236 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-11 13:57:34,236 - DEBUG - send_request_body.complete
2025-03-11 13:57:34,236 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-11 13:57:34,248 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'vary', b'RSC, Next-Router-State-Tree, Next-Router-Prefetch, Next-Router-Segment-Prefetch'), (b'content-type', b'application/json'), (b'Date', b'Tue, 11 Mar 2025 17:57:34 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5'), (b'Transfer-Encoding', b'chunked')])
2025-03-11 13:57:34,248 - INFO - HTTP Request: POST http://localhost:3000/api/products "HTTP/1.1 200 OK"
2025-03-11 13:57:34,248 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-11 13:57:34,248 - DEBUG - receive_response_body.complete
2025-03-11 13:57:34,248 - DEBUG - response_closed.started
2025-03-11 13:57:34,248 - DEBUG - response_closed.complete
2025-03-11 13:57:34,248 - DEBUG - API response: {'data': {'products': [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}], 'total': 53}, 'success': True}
2025-03-11 13:57:34,248 - DEBUG - Products found: [{'id': '17201', 'skuId': '17201', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 5.8", Black', 'price': 250.84, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17209', 'skuId': '17209', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.1", Black', 'price': 280.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17241', 'skuId': '17241', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 5.8", Black', 'price': 300.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17217', 'skuId': '17217', 'baseId': '87', 'title': 'HyperPhone ProMax - 64GB, 6.5", Black', 'price': 310.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '64GB', 'screenSize': 0, 'color': 'Black'}, {'id': '17249', 'skuId': '17249', 'baseId': '87', 'title': 'HyperPhone ProMax - 128GB, 6.1", Black', 'price': 330.84000000000003, 'description': 'A powerful smartphone with a sleek design and cutting-edge technology.', 'stock': '165', 'releaseYear': 2025, 'storage': '128GB', 'screenSize': 0, 'color': 'Black'}]
2025-03-11 13:57:34,248 - DEBUG - close.started
2025-03-11 13:57:34,248 - DEBUG - close.complete
